<DynamicsSystem xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="SceneFile SceneFile.xsd">

    <SceneSettings>

        <Visualization>
            <SceneScale value="100" /> 
        </Visualization>

        <RecorderSettings everyXStep="10" mode="everyTimeStep" />

        <TimeStepperSettings deltaT="0.0002" endTime="1.8">
            <InclusionSolverSettings absTol="1e-6" alphaJORProx="0.2" alphaSORProx="1.5" computeResidual="false" computeTotalOverlap="true" convergenceMethod="InVelocity" driftCorrectionGap="false" driftCorrectionGapAlpha="0.12" isFiniteCheck="false" matrixRStrategy="max" maxIter="1000" method="SORContact" minIter="1000" relTol="1e-6" reserveContacts="2000" useGPU="false" useGPUID="0" usePercussionCache="false" />

        </TimeStepperSettings>

        <MPISettings>
            <ProcessTopology bodyLimit="5000" mode="dynamic" policy="alwaysRebuild" policyCheckEveryXTimeStep="250">
                <Topology aligned="true" buildMode="MVBB" 
                          dimension="4 3 1" 
                          matchProcessDimToExtent="true" 
                          maxPoint="2 2 3.5" 
                          minPoint="-2 -2 2.5 "
                          minCellSize="5e-4" 
                          type="kdTree" />
                <MassPointPrediction deltaT="0.01" nPoints="3" />
                <GlobalOutlierFilter allowSplitAbove="10" kNNMean="20" stdDeviationMult="3" />
                <Visualization>
                    <Material name="PlaneYellowWireNoCull" />    
                </Visualization>   
            </ProcessTopology>

            <InclusionSolverSettings convergenceCheckRatio="1" reserveSplitNodes="0" splitNodeUpdateRatio="1" />
        </MPISettings>

        <ContactParameterMap>
            <ContactParameterStandard epsilonN="0.5" epsilonT="0.0" mu="0.5" type="UCF" />
            <ContactParameter epsilonN="0.0" epsilonT="0" invDampingN="0" invDampingT="0" materialId1="0" materialId2="0" mu="0.5" type="UCF" />
            <ContactParameter epsilonN="0.0" epsilonT="0" invDampingN="0" invDampingT="0" materialId1="0" materialId2="1" mu="0.5" type="UCF" />
            <ContactParameter epsilonN="0.0" epsilonT="0" invDampingN="0" invDampingT="0" materialId1="0" materialId2="2" mu="0.3" type="UCF" />
            <ContactParameter epsilonN="0.0" epsilonT="0" invDampingN="0" invDampingT="0" materialId1="0" materialId2="3" mu="0.1" type="UCF" />
        </ContactParameterMap>

        <GlobalGeometries>
            
        </GlobalGeometries>

        <ExternalForces>
            <ForceField applyTo="all" direction="-0.5 0 -0.866025404" type="gravity" value="9.81" /> 
        </ExternalForces>


        <GlobalInitialCondition file="/media/zfmgpu/MyDataRaid/GabrielNuetzi/SimFilesEulerBrutus/Avalanche1M-RunDownTrees2/Avalanche1M-RunDownTrees2.1/SimFiles/SimDataRECORDMPI_0/SimState.sim" readVelocities="false" useTimeToContinue="false" whichState="end" />
        
    </SceneSettings>


    <SceneObjects>

        <RigidBodies enableSelectiveIds="true" groupId="0" instances="10000" name="beads">

            <Geometry>
                <Sphere densities="1.3681 1.9913 0.29116 0.03956" distribute="random" generator="piecewise-const" intervals="0.59e-3 0.7e-3 0.85e-3 1e-3 1.18e-3" seed="5" />
            </Geometry>

            <DynamicProperties>
                <DynamicState type="simulated" />
                <Mass density="565959097.49" distribute="homogen" />
                <InertiaTensor type="homogen" />
                <Material distribute="uniform" id="0" />
                <InitialCondition type="posvel">
                    <InitialPosition delta="0.1e-3" dirX="0 0 1" dirZ="1 0 0" distance="2.36e-3" distribute="grid" gridSizeX="60" gridSizeY="80" jitter="true" seed="4" translation="0.01 0 0.071" />
                    
                </InitialCondition>
            </DynamicProperties>

            <Visualization>
                <PointCloud color="0.2 0.3 0.4 1.0" renderMode="spheres" scale="0.1 0.1 0.1" />
                
            </Visualization>

        </RigidBodies>


        <RigidBodies groupId="2" instances="1" name="floorChute">
            <Geometry>
                <Halfspace distribute="uniform" normal="0 0 1" position="0 0 0" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="1" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos><Trafo axis="1 0 0" deg="0" trans="0 0.0 0" /></Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Mesh file="Plane.mesh" scale="2 0.1 1" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.01" />
                    <Material name="PlaneBlue" />
                </Mesh>
            </Visualization>
        </RigidBodies>

        <RigidBodies groupId="2" instances="1" name="floorRunOut">
            <Geometry>
                <Halfspace distribute="uniform" normal="0 0 1" position="0 0 0" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="1" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos><Trafo axis="0 1 0" deg="10" trans="-0.296 0.0 0" /></Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Mesh file="Plane.mesh" scale="2 0.1 1" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.001" />
                    <Material name="PlaneBlue" />
                </Mesh>
            </Visualization>
        </RigidBodies>

        <RigidBodies groupId="2" instances="1" name="treeMiddle">
            <Geometry>
                <Capsule distribute="uniform" length="0.08" normal="0 0 1" radius="0.0025" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="2" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos>
                            <Trafo axis="0 1 0" deg="10" trans="-0.296 0.0 0" />
                            <Trafo axis="1 0 0" deg="0" trans="-0.1254 0.004 0.04" />
                        </Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Capsule fileCap="HalfSphere.mesh" fileZylinder="Cylinder.mesh" length="0.08" radius="0.0025" scaleLikeGeometry="false" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.001" />
                    <Material name="PlaneBlue" />
                </Capsule>
            </Visualization>
        </RigidBodies>

        <RigidBodies groupId="2" instances="1" name="treeLeft">
            <Geometry>
                <Capsule distribute="uniform" length="0.08" normal="0 0 1" radius="0.0025" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="2" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos>
                            <Trafo axis="0 1 0" deg="10" trans="-0.296 0.0 0" />
                            <Trafo axis="1 0 0" deg="0" trans="-0.1794 0.0277 0.04" />
                        </Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Capsule fileCap="HalfSphere.mesh" fileZylinder="Cylinder.mesh" length="0.08" radius="0.0025" scaleLikeGeometry="false" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.001" />
                    <Material name="PlaneBlue" />
                </Capsule>
            </Visualization>
        </RigidBodies>

        <RigidBodies groupId="2" instances="1" name="treeRight">
            <Geometry>
                <Capsule distribute="uniform" length="0.08" normal="0 0 1" radius="0.0025" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="2" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos>
                            <Trafo axis="0 1 0" deg="10" trans="-0.296 0.0 0" />
                            <Trafo axis="1 0 0" deg="0" trans="-0.1829 -0.02704 0.04" />
                        </Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Capsule fileCap="HalfSphere.mesh" fileZylinder="Cylinder.mesh" length="0.08" radius="0.0025" scaleLikeGeometry="false" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.001" />
                    <Material name="PlaneBlue" />
                </Capsule>
            </Visualization>
        </RigidBodies>


        <RigidBodies groupId="3" instances="1" name="sideY1">
            <Geometry>
                <Mesh distribute="uniform" file="models/Triangle.obj" scale="2 1 1" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="3" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos><Trafo axis="1 0 0" deg="90" trans="-0.296 0.1 0" /></Pos>
                        <Pos><Trafo axis="1 0 0" deg="-90" trans="-0.296 -0.1 0" /></Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Mesh file="Triangle.mesh" scaleLikeGeometry="true" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.01" />
                    <Material name="PlaneBlueWireNoCull" />
                </Mesh>
            </Visualization>
        </RigidBodies>

        <RigidBodies groupId="3" instances="1" name="sideY2">
            <Geometry>
                <Mesh distribute="uniform" file="models/Triangle.obj" scale="2 -1 1" />
            </Geometry>
            <DynamicProperties>
                <DynamicState type="static" />
                <Material distribute="uniform" id="3" />
                <InitialCondition type="posvel">
                    <InitialPosition distribute="transforms">
                        <Pos><Trafo axis="1 0 0" deg="-90" trans="-0.296 -0.1 0" /></Pos>
                    </InitialPosition>
                </InitialCondition>
            </DynamicProperties>
            <Visualization>
                <Mesh file="Triangle.mesh" scaleLikeGeometry="true" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.01" />
                    <Material name="PlaneBlueWireNoCull" />
                </Mesh>
            </Visualization>
        </RigidBodies>

    </SceneObjects>
</DynamicsSystem>