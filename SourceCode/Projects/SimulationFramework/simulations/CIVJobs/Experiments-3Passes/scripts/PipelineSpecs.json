{   
    
    "fileMover" :{
        "linkAllTools"         : ${Pipeline-PreProcess:fileMoverLinkAllTools},
        "additionalTasks"      : ${Pipeline-PreProcess:fileMoverAdditionalTasks},
        "fileMoverProcessFile" : "${Pipeline-PreProcess:fileMoverProcessFile}"
    },
    
    "pipelineTools" : {
        "correlator" :{  
                        "inputDir"     : "${Pipeline:correlatorInputDir}", 
                        "outputDir"    : "${Pipeline:correlatorOutputDir}",
                        "dependencies" : { "py/set" : ["converter"] } , 
                        
                        "inputFiles" :  ${Pipeline:correlatorInputFiles} ,
                        "outputFiles" : ${Pipeline:correlatorOutputFiles} ,
                        
                        
                        "processFileGenerator" : 
                            { 
                                "generator" : "${Pipeline:correlatorProcessFileWriter}",
                                "arguments" : {
                                                "processFile": "${Pipeline:correlatorProcessFile}",
                                                "processClass" : ${Pipeline:correlatorProcessClass},
                                                "correlatorSettings"       : ${Pipeline:correlatorSettings},
                                                "correlatorPlotClasses"       : ${Pipeline:correlatorPlotClasses}
                                            }
                            },
                        "copyToFrame" : ["inputFiles", "outputFiles"]
                    },
                    
        "converter" :{  
                        "inputDir"     : "${Pipeline:converterInputDir}", 
                        "outputDir"    : "${Pipeline:converterOutputDir}",
                        "dependencies" : { "py/set" : []} ,
                        
                        "inputFiles" :  ${Pipeline:converterInputFiles} ,
                        "inputFileIndices" : ${Pipeline:converterInputFileIndices} ,
                        "outputFiles" : ${Pipeline:converterOutputFiles} ,
                        "processFileGenerator" : 
                            { 
                                "generator" : "${Pipeline:converterProcessFileWriter}",
                                "arguments" : {
                                                "processClass" : ${Pipeline:converterProcessClass},
                                                "processFile": "${Pipeline:converterProcessFile}",
                                                "converterSettings" : ${Pipeline:converterSettings}
                                            }
                            },
                        "copyToFrame" : ["inputFiles","outputFiles", "inputFileIndices"]
                    }
    },
    
    "frameGenerator" : {
        "generator" : "${Pipeline:frameGenerator}",
        "arguments" : {
                "startIdx"  : ${Pipeline:startIdx},
                "endIdx"    : ${Pipeline:endIdx},
                "increment" : ${Pipeline:increment}
        }
    },
    
    "fileValidationSpecs" : [
        { 
            "regex" : "(?P<absPath>.*?Process_(?P<processId>\\d*)(?P<relPath>.*?(?P<fileName>image-f-(?P<frameIdx>\\d*).h5)))" , 
            "fileMoveDependent" : 
                {
                    "type":"copy", 
                    "from":"{absPath}", 
                    "to" : "${Pipeline:converterOutputDir}/{fileName}"
                },
            "fileMoveRecover" : null,
            "tool" : "converter",
            "hashString" : "{relPath}"
            
        }, 
        {   
            "regex" :  "(?P<absPath>.*?Process_(?P<processId>\\d*)(?P<relPath>.*?Frame-(?P<frameIdx>\\d*).*?(?P<fileName>outGridVelocity.h5)))" , 
            "fileMoveDependent" : null ,
            "fileMoveRecover" : null,
            "tool" : "correlator",
            "hashString" : "{relPath}"
        }
    ],

    "fileValidationTools" : { ".h5" : "${General:currentWorkDir}/scripts/CheckH5File.sh {file}" }
                        
}

