<?xml version="1.0" ?>

<DynamicsSystem 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="SceneFile"  
    xsi:schemaLocation="SceneFile SceneFile.xsd">

<SceneSettings>
    <RecorderSettings mode="everyXTimeStep" statesPerSecond="200"/>
    
    <TimeStepperSettings deltaT ="0.001" endTime="1">
        <InclusionSolverSettings        method="SOR" 
                                        useGPU ="false" 
                                        useGPUID="0" 
                                        alphaJORProx="0.2" 
                                        alphaSORProx="1.8" 
                                        convergenceMethod="InVelocity"
                                        minIter = "2" maxIter="5000" 
                                        absTol="1e-5" relTol="1e-5" 
                                        isFiniteCheck = "false"/>

        <SimulateFromReference type="continue" file="./SimFiles/Reference/StateData.sim"/>

    </TimeStepperSettings>
    
    
    <ContactParameterMap>
        <ContactParameterStandard type="UCF" mu="0.5" epsilonN="0.5" epsilonT="0.0"/>
        <ContactParameter materialId1="1" materialId2="2" type="UCF"  mu="0.2" epsilonN="0.0" epsilonT="0" />
        <ContactParameter materialId1="1" materialId2="1" type="UCF"  mu="0.2" epsilonN="0.0" epsilonT="0" />
    </ContactParameterMap>
    
    <GlobalGeometries>
        <Sphere distribute="uniform" radius="0.2" seed="5" minRadius="0.1" maxRadius="0.5" id="1" instances="10" />
        <Box distribute="uniform" extent="1 2 3" center="1 2 3" id="1"/>
        <Mesh distribute="uniform" name="asd" file="/mesh.obj" id="1"/>
    </GlobalGeometries>
    

     <ExternalForces>
        <ForceField  applyTo="all" type="spatialspherical-timerandom" seed="0" 
            boostTime="0.8" pauseTime="1" amplitude="0.5" randomOn="true" minPoint="-6 -6 -2" maxPoint="6 6 5"  startTime="1" endTime="2" />
        <ForceField  applyTo="all" type="gravity" value="10" direction="1 0 -1" />
    </ExternalForces>

        

    <GlobalInitialCondition file="./GlobalFolderD/SimFiles/SimDataRECORDMPI_3/SimState.sim" whichState="beg"  time="0.2" useTimeToContinue="true"/>
    

    <GlobalSelectiveIds>
<!--
        <Set value="1,1  4,1  7,1  8,1  12,3" />
-->
        <Range  value="1,1   1,10"/>
    </GlobalSelectiveIds>

    <Visualization>
        <SceneScale value="30"/> 
    </Visualization>
    
</SceneSettings>



<SceneObjects>
    
    <RigidBodies name="balls" instances="9" groupId="1" enableSelectiveIds="true" >
        
<!--
        <Geometry>
            <Sphere distribute="random" radius="0.055" seed="5" minRadius="1.1" maxRadius="1.3" />
        </Geometry>
-->
        <Geometry>
            <Box distribute="uniform" extent="1 2 3" center="1 2 3" id="1"/>
        </Geometry>
        

        <DynamicProperties>
            <DynamicState type="simulated" />
            <Mass distribute="uniform" value="1" />
            <InertiaTensor type="homogen" />
            <Material distribute="uniform" id="1"/>
            <InitialCondition type="posvel">
                <InitialPosition distribute="grid"  gridSizeX="3" gridSizeY="3" distance="0.82" translation="-0.03 0.02 1.8" jitter="true" delta="0.000" />


                <InitialVelocity distribute="transrot">
                    <Vel transDir="1 1 0" absTransVel="2" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="1 0 0" absTransVel="1" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 1 0" absTransVel="2" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 0 1" absTransVel="3" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 1 0" absTransVel="1" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 0 1" absTransVel="2" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="1 0 0" absTransVel="3" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 1 0" absTransVel="2" rotDir="1 0 0" absRotVel="0"/>
                    <Vel transDir="0 0 1" absTransVel="3" rotDir="1 0 0" absRotVel="0"/>
                </InitialVelocity>


            </InitialCondition>

        </DynamicProperties>
        
        
        <Visualization>
                <Mesh file="Sphere18x18.mesh" scaleLikeGeometry="false" scale="1 2 2" type="permutate" >
                    <Material name="SphereRed" />
                    <Material name="SphereYellow" />
                    <Material name="SphereBlue" />
                </Mesh>
        </Visualization>

    </RigidBodies>
    
    
    
    

    <RigidBodies name="floor/ceiling" instances="2" groupId="2">
        <Geometry>
            <Halfspace distribute="uniform" normal="0 0 1" position="0 0 0"/>
        </Geometry>
        <DynamicProperties>
            <DynamicState type="static" />
            <Material distribute="uniform" id="2"/>
            <InitialCondition type="posvel">
                <InitialPosition distribute="trafo" >
                                    <Pos><Trafo trans="0 0.0 0"  axis="1 0 0" deg="0"/></Pos>
                                    <Pos><Trafo trans="0 0.0 3"  axis="1 0 0" deg="180"/></Pos>
                </InitialPosition>
            </InitialCondition>
        </DynamicProperties>
        <Visualization>
                <Mesh file="Plane.mesh" scale="3 3 3" type="uniform" >
                    <Rendering attachAxis="true" axesSize="0.01"/>
                    <Material name="PlaneBlueWireNoCull" />
                </Mesh>
        </Visualization>
    </RigidBodies>


    <RigidBodies name="sideY" instances="2" groupId="3">
        <Geometry>
            <Halfspace distribute="uniform" normal="0 0 1" position="0 0 0"/>
        </Geometry>
        <DynamicProperties>
            <DynamicState type="static" />
            <Material distribute="uniform" id="2"/>
            <InitialCondition type="posvel">
                <InitialPosition distribute="trafo" >
                                    <Pos><Trafo trans="0 3 1.5"  axis="1 0 0" deg="90"/></Pos>
                                    <Pos><Trafo trans="0 -3 1.5"  axis="1 0 0" deg="-90"/></Pos>
                </InitialPosition>
            </InitialCondition>
        </DynamicProperties>
        <Visualization>
                <Mesh file="Plane.mesh" scale="3 1.5 3" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.01"/>
                    <Material name="PlaneBlueWireNoCull" />
                </Mesh>
        </Visualization>
    </RigidBodies>



    <RigidBodies name="sideX" instances="2" groupId="4">
        <Geometry>
            <Halfspace distribute="uniform" normal="0 0 1" position="0 0 0"/>
        </Geometry>
        <DynamicProperties>
            <DynamicState type="static" />
            <Material distribute="uniform" id="2"/>
            <InitialCondition type="posvel">
                <InitialPosition distribute="trafo" >
                                    <Pos><Trafo trans="3 0 1.5"  axis="0 1 0" deg="-90"/></Pos>
                                    <Pos><Trafo trans="-3 0 1.5"  axis="0 1 0" deg="90"/></Pos>
                </InitialPosition>
            </InitialCondition>
        </DynamicProperties>
        <Visualization>
                <Mesh file="Plane.mesh" scale="1.5 3 3" type="uniform">
                    <Rendering attachAxis="true" axesSize="0.001"/>
                    <Material name="PlaneBlueWireNoCull" />
                </Mesh>
        </Visualization>
    </RigidBodies>


    
    
</SceneObjects>


</DynamicsSystem>
